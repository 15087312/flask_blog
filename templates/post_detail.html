{% extends "base.html" %}

{% block content %}
<div class="product-detail-container glass-card fade-in">
    <h1>{{ post.title }}</h1>

    <div class="product-meta">
        <span class="product-price">¥{{ "%.2f"|format(post.price) }}</span>
        <span class="product-status {{ post.status }}">{{ post.status }}</span>
        <span class="product-seller">卖家: {{ post.author.username }}</span>
        <span class="product-date">发布时间: {{ post.created_at.strftime('%Y-%m-%d %H:%M') }}</span>
    </div>

    <div class="product-body">
        {{ post.body }}
    </div>

    <div class="product-actions">
        {% if current_user.is_authenticated and current_user.id == post.author_id %}
            <a href="{{ url_for('edit_post', post_id=post.id) }}" class="btn-gradient">编辑商品</a>
        {% endif %}
        <a href="{{ url_for('index') }}" class="btn-gradient">返回首页</a>
    </div>
</div>

<style>
    .product-detail-container {
        max-width: 800px;
        margin: 2rem auto;
        padding: 2rem;
    }

    .product-meta {
        display: flex;
        flex-wrap: wrap;
        gap: 15px;
        margin: 1.5rem 0;
        color: #666;
    }

    .product-price {
        font-size: 1.5em;
        color: #e74c3c;
        font-weight: bold;
    }

    .product-status {
        padding: 4px 8px;
        border-radius: 4px;
        font-size: 0.9em;
    }

    .product-status.available {
        background: #2ecc71;
        color: white;
    }

    .product-status.sold {
        background: #e74c3c;
        color: white;
    }

    .product-status.reserved {
        background: #f39c12;
        color: white;
    }

    .product-body {
        margin: 2rem 0;
        line-height: 1.6;
        white-space: pre-line;
    }

    .product-actions {
        display: flex;
        gap: 15px;
        margin-top: 2rem;
    }

    /* 黑夜模式适配 */
    body.dark-mode .product-detail-container {
        background: rgba(0,0,0,0.2);
    }

    body.dark-mode .product-meta {
        color: #ccc;
    }
</style>
{% endblock %}